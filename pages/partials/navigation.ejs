<!-- ////////////////// - NAV - ////////////////// -->
<style>
  navbar {
    position: relative;
    left: -68px;
    font-weight: 450;
    font-size: 14px;
  }

  .nav-breaks {
    position: relative;
    left: 43px;
  }

  .hamburger-menu {
    position: relative;
    display: inline-block;
    margin-right: 25px;
    top: 0px;
  }

  .hamburger-icon {
    font-size: 24px;
    cursor: pointer;
    color: var(--navigation-hamburguer-color);
    font-weight: var(--links-font-weight);
    transition: all var(--animation-duration-short) ease-in-out;
  }

  .dropdown-menu {
    display: block;
    position: absolute;
    background-color: var(--navigation-dropdown-background-color);
    min-width: 130px;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    box-shadow: 0px 4px 8px 0px #00000033;
    z-index: 1;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
    transition: max-height var(--animation-duration-base) ease-in-out, opacity var(--animation-duration-short) ease-in-out;
  }

  .dropdown-menu li {
    display: block;
    margin-top: 0;
  }

  .dropdown-menu li a {
    display: block;
    text-align: left;
    padding: 12px 16px;
  }
</style>

<navbar>
  <div class="hamburger-menu">
    <span class="hamburger-icon">&#9776;</span>
    <div class="dropdown-menu" id="dropdown-menu">
      <li><a href="/changepassword">Password</a></li>
      <% if (currentUser.roles==='admin' ) { %>
        <li><a href="/register">Register</a></li>
        <li><a href="/users">Accounts</a></li>
        <% } %>
          <li><a href="/settings">Settings</a></li>
          <li><a href="/logout">Logout</a></li>
    </div>
  </div>
  <li class="nav-breaks"><a href="/secret">Breaks</a></li>
  <!-- <section class="vertical-line"></section>
  <li><a href="/logout">Logout</a></li> -->
  <%- include('usersIndicator.ejs') %>
    <% if (currentUser.roles==='admin' ) { %>
      <% } %>
</navbar>

<script>
  var hamburgerIcon = document.querySelector('.hamburger-icon');
  var dropdownMenu = document.querySelector('.dropdown-menu');

  hamburgerIcon.addEventListener('click', function (event) {
    event.stopPropagation(); // This prevents the document click listener from firing
    if (dropdownMenu.style.maxHeight === '400px') {
      dropdownMenu.style.maxHeight = '0';
      dropdownMenu.style.opacity = '0';
    } else {
      dropdownMenu.style.maxHeight = '400px';
      dropdownMenu.style.opacity = '1';
    }
  });

  // Add a click event listener to the dropdown menu to stop event propagation
  dropdownMenu.addEventListener('click', function (event) {
    event.stopPropagation();
  });

  document.addEventListener('click', function () {
    dropdownMenu.style.maxHeight = '0';
    dropdownMenu.style.opacity = '0';
  });
</script>